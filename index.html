<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>à¸ªà¹ˆà¸‡à¸ªà¸£à¸¸à¸›à¹€à¸§à¸¥à¸²à¸—à¸³à¸‡à¸²à¸™</title>
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  <style>
    body { font-family: sans-serif; padding: 20px; background: #f9f9f9; }
    input, button { display: block; margin-top: 10px; padding: 8px; width: 100%; }
    h2 { text-align: center; }
  </style>
</head>
<body>
  <h2>à¸ªà¸£à¸¸à¸›à¹€à¸§à¸¥à¸²à¸—à¸³à¸‡à¸²à¸™</h2>
  
  <input id="name" placeholder="à¸Šà¸·à¹ˆà¸­à¸žà¸™à¸±à¸à¸‡à¸²à¸™" />
  <input id="workingDay" placeholder="à¸ˆà¸³à¸™à¸§à¸™à¸§à¸±à¸™à¸—à¸³à¸‡à¸²à¸™" />
  <input id="credit" placeholder="à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡ OT" />
  <input id="qr" placeholder="à¹€à¸§à¸¥à¸²à¸ªà¸²à¸¢ (à¸™à¸²à¸—à¸µ)" />
  <input id="totalSales" placeholder="à¸¢à¸­à¸”à¸‚à¸²à¸¢ (à¸šà¸²à¸—)" />
  <input id="leaveHave" placeholder="à¸§à¸±à¸™à¸«à¸¢à¸¸à¸”à¸—à¸µà¹ˆà¸¡à¸µ" />
  <input id="leaveUsed" placeholder="à¸§à¸±à¸™à¸«à¸¢à¸¸à¸”à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¹„à¸›" />
  <input id="holidayHave" placeholder="à¸§à¸±à¸™à¸«à¸¢à¸¸à¸”à¸™à¸±à¸à¸‚à¸±à¸•à¸¤à¸à¸©à¹Œà¸—à¸µà¹ˆà¸¡à¸µ" />
  <input id="holidayUsed" placeholder="à¸§à¸±à¸™à¸«à¸¢à¸¸à¸”à¸™à¸±à¸à¸‚à¸±à¸•à¸¤à¸à¸©à¹Œà¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¹„à¸›" />
  <input id="accumulateAdd" placeholder="à¸§à¸±à¸™à¸«à¸¢à¸¸à¸”à¸ªà¸°à¸ªà¸¡à¹€à¸žà¸´à¹ˆà¸¡" />
  
  <button onclick="sendMessage()">à¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡</button>

  <script>
    async function sendMessage() {
      await liff.init({ liffId: "2007788493-vwxmBkLE" });

      if (!liff.isLoggedIn()) {
        liff.login();
        return;
      }

      const name = document.getElementById('name').value;
      const workingDay = document.getElementById('workingDay').value;
      const credit = document.getElementById('credit').value;
      const qr = document.getElementById('qr').value;
      const totalSales = document.getElementById('totalSales').value;
      const cash = document.getElementById('leaveHave').value;
      const cashUsed = document.getElementById('leaveUsed').value;
      const holiday = document.getElementById('holidayHave').value;
      const holidayUsed = document.getElementById('holidayUsed').value;
      const accumulateAdd = document.getElementById('accumulateAdd').value;

      const cashRemain = cash - cashUsed + parseInt(accumulateAdd || 0);

      const message = 
`ðŸ•’ à¸ªà¹ˆà¸‡à¸ªà¸£à¸¸à¸›à¹€à¸§à¸¥à¸²à¸—à¸³à¸‡à¸²à¸™à¸›à¸£à¸°à¸ˆà¸³à¹€à¸”à¸·à¸­à¸™

${name}
à¸§à¸±à¸™à¸—à¸³à¸‡à¸²à¸™: ${workingDay} à¸§à¸±à¸™
à¹‚à¸­à¸—à¸µ: ${credit} à¸Šà¸¡.
à¸ªà¸²à¸¢: ${qr} à¸™à¸²à¸—à¸µ (à¹„à¸¡à¹ˆà¸«à¸±à¸ 15 à¸™à¸²à¸—à¸µ)
ðŸ’° à¸£à¸§à¸¡à¸¢à¸­à¸”à¸‚à¸²à¸¢: ${totalSales} à¸šà¸²à¸—

à¸§à¸±à¸™à¸«à¸¢à¸¸à¸”à¸—à¸µà¹ˆà¸¡à¸µ ${cash} à¸§à¸±à¸™ à¹ƒà¸Šà¹‰à¹„à¸› ${cashUsed} à¸§à¸±à¸™
à¸§à¸±à¸™à¸«à¸¢à¸¸à¸”à¸™à¸±à¸à¸‚à¸±à¸•à¸´à¸¯à¸—à¸µà¹ˆà¸¡à¸µ ${holiday} à¸§à¸±à¸™ à¹ƒà¸Šà¹‰à¹„à¸› ${holidayUsed} à¸§à¸±à¸™

à¸§à¸±à¸™à¸«à¸¢à¸¸à¸”à¸ªà¸°à¸ªà¸¡à¸—à¸µà¹ˆà¸¡à¸µ ${cash} à¸§à¸±à¸™
à¹ƒà¸Šà¹‰à¹„à¸› ${cashUsed} à¸§à¸±à¸™ à¸ªà¸°à¸ªà¸¡à¹€à¸žà¸´à¹ˆà¸¡ ${accumulateAdd} à¸§à¸±à¸™
à¸„à¸‡à¹€à¸«à¸¥à¸·à¸­: ${cashRemain} à¸§à¸±à¸™`;

      liff.sendMessages([{
        type: "text",
        text: message
      }]).then(() => {
        alert("à¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¹à¸¥à¹‰à¸§");
        liff.closeWindow();
      }).catch(err => {
        alert("à¹„à¸¡à¹ˆà¸ªà¸²à¸¡à¸²à¸£à¸–à¸ªà¹ˆà¸‡à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡: " + err);
      });
    }
  </script>
</body>
</html>
