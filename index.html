<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>р╕кр╕гр╕╕р╕Ыр╣Ар╕зр╕ер╕▓р╕Чр╕│р╕Зр╕▓р╕Щ</title>
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
      background: #f4f6f9;
      color: #333;
    }

    header, footer {
      background-color: #4a90e2;
      color: white;
      text-align: center;
      padding: 1rem;
    }

    main {
      padding: 20px;
      max-width: 500px;
      margin: auto;
      background: white;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      border-radius: 10px;
      margin-top: 20px;
      margin-bottom: 20px;
    }

    h2 {
      text-align: center;
      margin-bottom: 20px;
      color: #4a90e2;
    }

    section {
      margin-bottom: 24px;
    }

    section h3 {
      color: #666;
      margin-bottom: 8px;
      border-bottom: 1px solid #ddd;
      padding-bottom: 4px;
    }

    label {
      display: block;
      margin-top: 12px;
      margin-bottom: 4px;
    }

    input {
      padding: 8px;
      width: 100%;
      box-sizing: border-box;
      border: 1px solid #ccc;
      border-radius: 6px;
    }

    button {
      width: 100%;
      padding: 12px;
      background-color: #4a90e2;
      color: white;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      margin-top: 20px;
      cursor: pointer;
    }

    button:hover {
      background-color: #357ab8;
    }

    .flex-pair {
      display: flex;
      gap: 12px;
    }
    
    .flex-pair > div {
      flex: 1;
    }

  </style>
</head>
<body>

  <header>
    <h1>ЁЯУК р╣Бр╕Ър╕Ър╕Яр╕нр╕гр╣Мр╕бр╕кр╕гр╕╕р╕Ыр╣Ар╕зр╕ер╕▓р╕Чр╕│р╕Зр╕▓р╕Щ</h1>
  </header>

  <main>
    <h2>р╕Бр╕гр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ыр╕гр╕░р╕Ир╕│р╣Ар╕Фр╕╖р╕нр╕Щ</h2>

    <section>
      <h3>ЁЯзСтАНЁЯТ╝ р╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щ</h3>
      <label>р╕Кр╕╖р╣Ир╕нр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щ</label>
      <input id="name" placeholder="р╕Кр╕╖р╣Ир╕нр╕Юр╕Щр╕▒р╕Бр╕Зр╕▓р╕Щ" />
    </section>

    <section>
      <h3>ЁЯХТ р╣Ар╕зр╕ер╕▓р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ</h3>
      
      <div class="flex-pair">
        <div>
          <label>р╕зр╕▒р╕Щр╕Чр╕│р╕Зр╕▓р╕Щ</label>
          <input id="workingDay" type="number" placeholder="р╣Ар╕Кр╣Ир╕Щ 22" />
        </div>
        <div>
          <label>р╣Вр╕нр╕Чр╕╡ (р╕Кр╕▒р╣Ир╕зр╣Вр╕бр╕З)</label>
          <input id="credit" type="number" placeholder="р╣Ар╕Кр╣Ир╕Щ 5" />
        </div>
      </div>
    
      <label>р╣Ар╕зр╕ер╕▓р╕кр╕▓р╕в (р╕Щр╕▓р╕Чр╕╡)</label>
      <input id="qr" type="number" placeholder="р╣Ар╕Кр╣Ир╕Щ 10" />
    </section>


    <section>
      <h3>ЁЯТ░ р╕вр╕нр╕Фр╕Вр╕▓р╕в</h3>
      <label>р╕вр╕нр╕Фр╕Вр╕▓р╕вр╕гр╕зр╕б (р╕Ър╕▓р╕Ч)</label>
      <input id="totalSales" type="number" placeholder="р╣Ар╕Кр╣Ир╕Щ 123456" />
    </section>

    <section>
      <h3>ЁЯУЖ р╕зр╕▒р╕Щр╕лр╕вр╕╕р╕Ф</h3>
      <label>р╕зр╕▒р╕Щр╕лр╕вр╕╕р╕Фр╕Чр╕╡р╣Ир╕бр╕╡</label>
      <input id="leaveHave" type="number" placeholder="р╣Ар╕Кр╣Ир╕Щ 4" />
      <label>р╕зр╕▒р╕Щр╕лр╕вр╕╕р╕Фр╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╣Др╕Ы</label>
      <input id="leaveUsed" type="number" placeholder="р╣Ар╕Кр╣Ир╕Щ 2" />
      <label>р╕зр╕▒р╕Щр╕лр╕вр╕╕р╕Фр╕Щр╕▒р╕Бр╕Вр╕▒р╕Хр╕др╕Бр╕йр╣Мр╕Чр╕╡р╣Ир╕бр╕╡</label>
      <input id="holidayHave" type="number" placeholder="р╣Ар╕Кр╣Ир╕Щ 3" />
      <label>р╕зр╕▒р╕Щр╕лр╕вр╕╕р╕Фр╕Щр╕▒р╕Бр╕Вр╕▒р╕Хр╕др╕Бр╕йр╣Мр╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╣Др╕Ы</label>
      <input id="holidayUsed" type="number" placeholder="р╣Ар╕Кр╣Ир╕Щ 1" />
    </section>

    <section>
      <h3>тЮХ р╕зр╕▒р╕Щр╕лр╕вр╕╕р╕Фр╕кр╕░р╕кр╕б</h3>
      <label>р╕зр╕▒р╕Щр╕лр╕вр╕╕р╕Фр╕кр╕░р╕кр╕бр╕Чр╕╡р╣Ир╕бр╕╡</label>
      <input id="accumulateHave" type="number" placeholder="р╣Ар╕Кр╣Ир╕Щ 5" />
      <label>р╣Гр╕Кр╣Йр╣Др╕Ы</label>
      <input id="accumulateUsed" type="number" placeholder="р╣Ар╕Кр╣Ир╕Щ 2" />
      <label>р╕кр╕░р╕кр╕бр╣Ар╕Юр╕┤р╣Ир╕б</label>
      <input id="accumulateAdd" type="number" placeholder="р╣Ар╕Кр╣Ир╕Щ 1" />
    </section>

    <button onclick="sendMessage()">тЬЕ р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е</button>
  </main>

  <footer>
    <p>Powered by LINE LIFF | @SophitDev</p>
  </footer>

  <script>
    async function sendMessage() {
  await liff.init({ liffId: "2007788493-7JGgNED8" });

  if (!liff.isLoggedIn()) {
    liff.login();
    return;
  }

  const name = document.getElementById('name').value;
  const workingDay = document.getElementById('workingDay').value;
  const credit = document.getElementById('credit').value;
  const qr = document.getElementById('qr').value;
  const totalSales = document.getElementById('totalSales').value;

  const cash = parseFloat(document.getElementById('leaveHave').value) || 0;
  const cashUsed = parseFloat(document.getElementById('leaveUsed').value) || 0;
  const holiday = document.getElementById('holidayHave').value;
  const holidayUsed = document.getElementById('holidayUsed').value;

  const accumulateHave = parseFloat(document.getElementById('accumulateHave').value) || 0;
  const accumulateUsed = parseFloat(document.getElementById('accumulateUsed').value) || 0;
  const accumulateAdd = parseFloat(document.getElementById('accumulateAdd').value) || 0;

  // р╕Др╕│р╕Щр╕зр╕Ур╕Др╕Зр╣Ар╕лр╕ер╕╖р╕нр╕зр╕▒р╕Щр╕лр╕вр╕╕р╕Фр╕кр╕░р╕кр╕б
  const accumulateRemain = accumulateHave + accumulateAdd - accumulateUsed;

  const message = 
`ЁЯХТ р╕кр╣Ир╕Зр╕кр╕гр╕╕р╕Ыр╣Ар╕зр╕ер╕▓р╕Чр╕│р╕Зр╕▓р╕Щр╕Ыр╕гр╕░р╕Ир╕│р╣Ар╕Фр╕╖р╕нр╕Щ

${name}
р╕зр╕▒р╕Щр╕Чр╕│р╕Зр╕▓р╕Щ: ${workingDay} р╕зр╕▒р╕Щ
р╣Вр╕нр╕Чр╕╡: ${credit} р╕Кр╕б.
р╕кр╕▓р╕в: ${qr} р╕Щр╕▓р╕Чр╕╡ (р╣Др╕бр╣Ир╕лр╕▒р╕Б 15 р╕Щр╕▓р╕Чр╕╡)
ЁЯТ░ р╕гр╕зр╕бр╕вр╕нр╕Фр╕Вр╕▓р╕в: ${totalSales} р╕Ър╕▓р╕Ч

р╕зр╕▒р╕Щр╕лр╕вр╕╕р╕Фр╕Чр╕╡р╣Ир╕бр╕╡ ${cash} р╕зр╕▒р╕Щ р╣Гр╕Кр╣Йр╣Др╕Ы ${cashUsed} р╕зр╕▒р╕Щ
р╕зр╕▒р╕Щр╕лр╕вр╕╕р╕Фр╕Щр╕▒р╕Бр╕Вр╕▒р╕Хр╕┤р╕пр╕Чр╕╡р╣Ир╕бр╕╡ ${holiday} р╕зр╕▒р╕Щ р╣Гр╕Кр╣Йр╣Др╕Ы ${holidayUsed} р╕зр╕▒р╕Щ

р╕зр╕▒р╕Щр╕лр╕вр╕╕р╕Фр╕кр╕░р╕кр╕бр╕Чр╕╡р╣Ир╕бр╕╡ ${accumulateHave} р╕зр╕▒р╕Щ
р╣Гр╕Кр╣Йр╣Др╕Ы ${accumulateUsed} р╕зр╕▒р╕Щ
р╕кр╕░р╕кр╕бр╣Ар╕Юр╕┤р╣Ир╕б ${accumulateAdd} р╕зр╕▒р╕Щ
р╕Др╕Зр╣Ар╕лр╕ер╕╖р╕н: ${accumulateRemain} р╕зр╕▒р╕Щ`;

  liff.sendMessages([{
    type: "text",
    text: message
  }]).then(() => {
    alert("тЬЕ р╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Бр╕ер╣Йр╕з");
    liff.closeWindow();
  }).catch(err => {
    alert("тЭМ р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╕кр╣Ир╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б: " + err);
  });
}

  </script>

</body>
</html>
